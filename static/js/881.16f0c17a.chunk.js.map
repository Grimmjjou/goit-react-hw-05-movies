{"version":3,"file":"static/js/881.16f0c17a.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/ListItem/ListItem.module.css?0678","components/ListItem/ListItem.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/Movie-api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"ListItem_item__3+qKK\",\"icon\":\"ListItem_icon__dP-8S\",\"link\":\"ListItem_link__twHxh\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './ListItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ListItem = ({ name, id }) => {\n  const location = useLocation();\n\n  return (\n    <li className={styles.item}>\n      <Link\n        to={`/movies/${id}`}\n        state={{ from: location }}\n        className={styles.link}\n      >\n        {name}\n      </Link>\n    </li>\n  );\n};\n\nListItem.propTypes = {\n  name: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n};\n\nexport default ListItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"Movies_searchForm__J4-xw\",\"input\":\"Movies_input__KrUqs\",\"buttonIcon\":\"Movies_buttonIcon__GIQHA\",\"button\":\"Movies_button__GcIka\"};","import { useState, useEffect, Suspense } from 'react';\nimport { Outlet, useLocation, useSearchParams } from 'react-router-dom';\n\nimport { toast } from 'react-toastify';\nimport { Loader } from 'components/Loader/Loader';\nimport movieAPI from 'services/Movie-api';\nimport ListItem from 'components/ListItem/ListItem';\nimport styles from './Movies.module.css';\n\nconst Movies = () => {\n  const location = useLocation();\n  const [value, setValue] = useState('');\n  const [movies, setMovies] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const handleInputChange = event => {\n    const inputValue = event.currentTarget.value.toLowerCase();\n    setValue(inputValue);\n  };\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    if (value.trim() === '') {\n      toast.error('Enter search query.');\n      reset();\n      return;\n    }\n    changeQuery(value);\n    reset();\n  };\n\n  const changeQuery = value => {\n    setSearchParams(value !== '' ? { query: value } : {});\n  };\n\n  const reset = () => {\n    setValue('');\n  };\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    setLoading(true);\n    movieAPI\n      .searchMovies(query)\n      .then(result => {\n        if (result.results.length > 0) {\n          setMovies(result.results);\n        } else {\n          setMovies(null);\n          toast.warning('No matches found.');\n        }\n      })\n      .catch(error => toast.error(`${error.message}`))\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [query]);\n\n  useEffect(() => {\n    if (location.pathname === '/movies') {\n      setMovies(null);\n    }\n  }, [location]);\n\n  return (\n    <>\n      {location.pathname === '/movies' && (\n        <>\n          <form className={styles.searchForm} onSubmit={handleFormSubmit}>\n            <input\n              type=\"text\"\n              name=\"query\"\n              placeholder=\"Enter movie name\"\n              className={styles.input}\n              onChange={handleInputChange}\n              value={value}\n            />\n            <button type=\"submit\" className={styles.button}>\n              Search\n            </button>\n          </form>\n          <ul className={styles.trending__list}>\n            {movies &&\n              movies.map(movie => {\n                return (\n                  <ListItem key={movie.id} name={movie.title} id={movie.id} />\n                );\n              })}\n            {loading && <Loader />}\n          </ul>\n        </>\n      )}\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\nconst API_KEY = '8250a012e9c5de27672edaa1917198ee';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst TRENDING = '/trending/movie/day';\nconst MOVIE_DETAILS = '/movie';\nconst CAST = '/credits';\nconst REVIEWS = '/reviews';\nconst SEARCH = '/search/movie';\n\nasync function moviesTrending() {\n  try {\n    const fetchUrl = `${BASE_URL}${TRENDING}?api_key=${API_KEY}`;\n    const response = await axios.get(fetchUrl);\n\n    if (response) {\n      return response.data.results;\n    }\n\n    return Promise.reject(new Error('Oops! Something went wrong...'));\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nasync function MovieDetails(id) {\n  try {\n    const fetchUrl = `${BASE_URL}${MOVIE_DETAILS}/${id}?api_key=${API_KEY}`;\n    const response = await axios.get(fetchUrl);\n\n    if (response) {\n      return response.data;\n    }\n\n    return Promise.reject(new Error('Oops! Something went wrong...'));\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nasync function Cast(id) {\n  try {\n    const fetchUrl = `${BASE_URL}${MOVIE_DETAILS}/${id}${CAST}?api_key=${API_KEY}`;\n    const response = await axios.get(fetchUrl);\n\n    if (response) {\n      return response.data;\n    }\n\n    return Promise.reject(new Error('Oops! Something went wrong...'));\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nasync function Reviews(id) {\n  try {\n    const fetchUrl = `${BASE_URL}${MOVIE_DETAILS}/${id}${REVIEWS}?api_key=${API_KEY}`;\n    const response = await axios.get(fetchUrl);\n\n    if (response) {\n      return response.data;\n    }\n\n    return Promise.reject(new Error('Oops! Something went wrong...'));\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nasync function searchMovies(query) {\n  try {\n    const fetchUrl = `${BASE_URL}${SEARCH}?api_key=${API_KEY}&query=${query}`;\n    const response = await axios.get(fetchUrl);\n\n    if (response) {\n      return response.data;\n    }\n\n    return Promise.reject(new Error('Oops! Something went wrong...'));\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nconst movieAPI = {\n  moviesTrending,\n  MovieDetails,\n  Cast,\n  Reviews,\n  searchMovies,\n};\n\nexport default movieAPI;\n"],"names":["name","id","location","useLocation","className","styles","to","state","from","useState","value","setValue","movies","setMovies","loading","setLoading","useSearchParams","searchParams","setSearchParams","query","get","changeQuery","reset","useEffect","movieAPI","then","result","results","length","toast","catch","error","message","finally","pathname","onSubmit","event","preventDefault","trim","type","placeholder","onChange","inputValue","currentTarget","toLowerCase","map","movie","ListItem","title","Loader","Suspense","fallback","API_KEY","BASE_URL","TRENDING","MOVIE_DETAILS","CAST","REVIEWS","SEARCH","moviesTrending","fetchUrl","axios","response","data","Promise","reject","Error","MovieDetails","Cast","Reviews","searchMovies"],"sourceRoot":""}